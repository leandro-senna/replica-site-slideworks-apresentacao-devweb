<!DOCTYPE html>
<html lang="pt">
<head>
    <title>Slideworks</title>
	<meta charset="UTF-8">
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/main.css" media="all">
</head>

<body>

<header>
    <img id="logo" src="imagens/logo.svg" alt="Logotipo da sua Empresa" />
    <div class="btn-menu">
        <span></span>
        <span></span>
    </div>
    <nav>
        <img src="imagens/background-nav.png" />
    </nav>
</header>

<main>
    <section><h1 class="content">Home</h1></section>
    <section><h1 class="content">About</h1></section>
    <section><h1 class="content">Services_1</h1></section>
    <section><h1 class="content">Services_2</h1></section>
    <section><h1 class="content">Portif√≥lio</h1></section>
    <section><h1 class="content">Clients</h1></section>
    <section><h1 class="content">Diferentials_1</h1></section>
    <section><h1 class="content">Diferentials_2</h1></section>
    <section><h1 class="content">Diferentials_3</h1></section>
    <section><h1 class="content">Diferentials_4</h1></section>
    <section><h1 class="content">Experiences</h1></section>
    <section><h1 class="content">Contact</h1></section>
</main>

<!-- just for while... -->
<div id="container-background">
    <img src="imagens/background-contact.png" />
    <img src="imagens/background-experiences.png" />
    <img src="imagens/background-diferentials_4.png" />
    <img src="imagens/background-diferentials_3.png" />
    <img src="imagens/background-diferentials_2.png" />
    <img src="imagens/background-diferentials_1.png" />
    <img src="imagens/background-clientes.png" />
    <img src="imagens/background-portifolio.png" />
    <img src="imagens/background-services_2.png" />
    <img src="imagens/background-services_1.png" />
    <img src="imagens/background-about.png" />
    <img src="imagens/background-home.png" />
</div>

</body>

<script>

    /**
     * 
     * For noscript... (developing)...
     * Tasks:
     * - Keep a menu itens on <nav> turn off button menu;
     * - Create <noscript> with images on <section>;
     * - Take out <div id=container-background> and create it here in script;
     * - Create the Introduction (Slideworks Loading...) close it when all resourses had been complete.
     * - Think about the transition of the contents in the <section>;
     * - more...(Leandro Senna - 02/03/2022)
     * 
     **/ 
    

    // Change background when "snap" <section>
    const main = document.getElementsByTagName("MAIN")[0];
    
    main.addEventListener('scroll', function() {

        const section = document.getElementsByTagName("SECTION"),
              bgImg = document.querySelectorAll("#container-background > img"),
              content = document.querySelectorAll(".content");

        let mainHeight = parseInt(main.scrollHeight / section.length);
            
            for (i = 1; i <= section.length; i++) {
                if (main.scrollTop >= ((mainHeight * i) - (mainHeight / 2))) {
                    bgImg[section.length - i].style.opacity = 0;
                    content[i].setAttribute("style", "transition: all 4s ease; opacity: 1");
                    content[i - 1].removeAttribute("style");
                }else{
                    bgImg[section.length - i].style.opacity = 1;
                    content[i + 1].setAttribute("style", "transition: all 4s ease; opacity: 1");
                    content[i].removeAttribute("style");
                }
            }
        
    })

    // Open and close menu
    const btnMenu = document.querySelector(".btn-menu");
	btnMenu.addEventListener('click', function() {
        const btnMenuSpan = document.querySelectorAll(".btn-menu > span"),
              nav = document.getElementsByTagName("NAV")[0];

        if (!nav.style.display) {
            nav.setAttribute("style", "display: initial");
            btnMenu.classList.add("active");
            setTimeout(function () {nav.style.opacity = 1}, 30);
        }else{
            nav.style.opacity = 0;
            btnMenu.classList.remove("active");
            setTimeout(function () {nav.removeAttribute("style")}, 400);
        }
    })
</script>

</html>